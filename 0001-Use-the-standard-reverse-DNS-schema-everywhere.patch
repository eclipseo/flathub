From fab7933ced4347d7593c1ea378ebe56081d930a5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Robert-Andr=C3=A9=20Mauchin?=
 <30413512+eclipseo@users.noreply.github.com>
Date: Sat, 18 May 2024 16:35:35 +0200
Subject: [PATCH] Use the standard reverse-DNS schema everywhere (#98)

---
 cmake/FooyinInstall.cmake                 |  4 ++--
 dist/linux/org.fooyin.fooyin.desktop      |  4 ++--
 dist/linux/org.fooyin.fooyin.metainfo.xml | 11 +++++++----
 3 files changed, 11 insertions(+), 8 deletions(-)

diff --git a/cmake/FooyinInstall.cmake b/cmake/FooyinInstall.cmake
index 518ad58c..9b9d8184 100644
--- a/cmake/FooyinInstall.cmake
+++ b/cmake/FooyinInstall.cmake
@@ -41,7 +41,7 @@ foreach(SIZE ${ICON_SIZE})
     install(
         FILES ${ICON_SRC_PATH}/${SIZE}-fooyin.png
         DESTINATION ${ICON_INSTALL_DIR}/hicolor/${SIZE}x${SIZE}/apps
-        RENAME fooyin.png
+        RENAME org.fooyin.fooyin.png
         COMPONENT fooyin
     )
 endforeach(SIZE)
@@ -49,7 +49,7 @@ endforeach(SIZE)
 install(
     FILES ${ICON_SRC_PATH}/sc-fooyin.svg
     DESTINATION ${ICON_INSTALL_DIR}/hicolor/scalable/apps
-    RENAME fooyin.svg
+    RENAME org.fooyin.fooyin.svg
     COMPONENT fooyin
 )
 
diff --git a/dist/linux/org.fooyin.fooyin.desktop b/dist/linux/org.fooyin.fooyin.desktop
index 53e65269..58a4288d 100644
--- a/dist/linux/org.fooyin.fooyin.desktop
+++ b/dist/linux/org.fooyin.fooyin.desktop
@@ -1,11 +1,11 @@
 [Desktop Entry]
-Name=fooyin
+Name=org.fooyin.fooyin
 Type=Application
 GenericName=fooyin Music Player
 Comment=Manages and plays your local music collection
 Exec=fooyin %F
 TryExec=fooyin
-Icon=fooyin
+Icon=org.fooyin.fooyin
 Terminal=false
 Categories=AudioVideo;Player;Qt;Audio;
 MimeType=x-content/audio-player;application/ogg;application/x-ogg;application/x-ogm-audio;audio/flac;audio/ogg;audio/vorbis;audio/aac;audio/mp4;audio/mpeg;audio/mpegurl;audio/vnd.rn-realaudio;audio/x-flac;audio/x-oggflac;audio/x-vorbis;audio/x-vorbis+ogg;audio/x-speex;audio/x-wav;audio/x-wavpack;audio/x-ape;audio/x-mp3;audio/x-mpeg;audio/x-mpegurl;audio/x-ms-wma;audio/x-musepack;
diff --git a/dist/linux/org.fooyin.fooyin.metainfo.xml b/dist/linux/org.fooyin.fooyin.metainfo.xml
index ef4765a7..e106d255 100644
--- a/dist/linux/org.fooyin.fooyin.metainfo.xml
+++ b/dist/linux/org.fooyin.fooyin.metainfo.xml
@@ -1,12 +1,14 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <component type="desktop-application">
-    <id>fooyin</id>
-    <launchable type="desktop-id">fooyin.desktop</launchable>
+    <id>org.fooyin.fooyin</id>
+    <launchable type="desktop-id">org.fooyin.fooyin.desktop</launchable>
     <metadata_license>CC0-1.0</metadata_license>
     <project_license>GPL-3.0</project_license>
     <name>fooyin</name>
     <summary>A customisable music player</summary>
-    <developer_name>Luke Taylor</developer_name>
+    <developer id="org.fooyin.luketaylor">
+        <name>Luke Taylor</name>
+    </developer>
     <description>
         <p>
             Fooyin is a music player built around customisation. It offers a growing list of widgets to manage and play your local music collection. It's extendable through the use of plugins and scriptable using FooScript.
@@ -30,11 +32,12 @@
     <url type="bugtracker">https://github.com/ludouzi/fooyin/issues</url>
     <screenshots>
         <screenshot type="default">
-            <image>https://github.com/ludouzi/fooyin/blob/master/data/images/ember.png</image>
+            <image>https://github.com/ludouzi/fooyin/assets/45490980/d8fb8631-af72-4b94-b2f0-7c086bb7ac4a</image>
             <caption>Ember layout</caption>
         </screenshot>
     </screenshots>
     <releases>
+        <release version="0.4.2" date="2024-05-16"/>
         <release version="0.3.10" date="2024-02-10"/>
     </releases>
     <translation type="qt">fooyin</translation>
 
